---
const today = new Date();
---

<footer>
	<div class="footer-content">
		<!-- Sección de Contacto -->
		<div class="contact-section">
			<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
				<rect x="2" y="4" width="20" height="16" rx="2"></rect>
				<path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
			</svg>
			<a href="mailto:paulappq2@gmail.com" class="email-link">paulappq2@gmail.com</a>
		</div>

		<!-- Sección de Copyright y Créditos -->
		<div class="meta-info">
			<p>&copy; {today.getFullYear()} Mi espacio de Audición y Lenguaje. Todos los derechos reservados.</p>
			<p class="credits">
				Created by: <a href="https://jordiruiz21.github.io/Portfolio/" target="_blank" rel="noopener noreferrer">Jordi Ruiz</a>
			</p>
		</div>

		<!-- Mascota Interactiva SVG -->
		<div class="interactive-character" id="interactive-character">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="100" height="100">
				<!-- Sombra -->
				<ellipse cx="60" cy="110" rx="35" ry="6" fill="rgba(0,0,0,0.08)" />
				
				<!-- Hoja -->
				<path d="M60 25 C 60 25, 80 5, 90 20 C 100 35, 60 30, 60 25 Z" fill="#48bb78" />
				
				<!-- Tallo -->
				<path d="M60 30 Q 55 10 65 5" stroke="#744210" stroke-width="4" fill="none" stroke-linecap="round" />
				
				<!-- Cuerpo de la manzana -->
				<path d="M60 25 
						 C 20 20, 5 60, 20 95 
						 C 30 115, 90 115, 100 95 
						 C 115 60, 100 20, 60 25 Z" 
					  fill="#fc8181" stroke="#e53e3e" stroke-width="2" />
				
				<!-- Coloretes -->
				<circle cx="28" cy="70" r="7" fill="#f56565" opacity="0.7" />
				<circle cx="92" cy="70" r="7" fill="#f56565" opacity="0.7" />

				<!-- Ojos (Fondo blanco) -->
				<circle cx="40" cy="60" r="11" fill="white" />
				<circle cx="80" cy="60" r="11" fill="white" />
				
				<!-- Pupilas (Grupo que se moverá con JS) -->
				<g id="character-pupils">
					<circle id="pupil-left" cx="40" cy="60" r="4.5" fill="#2d3748" />
					<circle id="pupil-right" cx="80" cy="60" r="4.5" fill="#2d3748" />
					
					<!-- Brillo en los ojos para hacerlo más vivo -->
					<circle cx="38.5" cy="58.5" r="1.5" fill="white" />
					<circle cx="78.5" cy="58.5" r="1.5" fill="white" />
				</g>
				
				<!-- Sonrisa -->
				<path d="M 50 75 Q 60 88 70 75" stroke="#2d3748" stroke-width="3.5" fill="none" stroke-linecap="round" />
			</svg>
		</div>
	</div>
</footer>

<style>
	footer {
		/* Fondo blanco limpio para cerrar la página */
		background: #ffffff;
		padding: 3em 1em;
		text-align: center;
		color: #718096;
		
		/* Borde superior azul para complementar el rojo del header */
		border-top: 5px solid #ff6b6b; 
		box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.05);
		margin-top: auto;
	}

	.footer-content {
		max-width: 960px;
		margin: 0 auto;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 1.5rem;
	}

	/* Estilo del Email */
	.contact-section {
		background: #fdf6f6ff;
		padding: 0.8em 1.5em;
		border-radius: 50px;
		border: 1px solid #f0e2e3ff;
		display: flex;
		align-items: center;
		gap: 0.5em;
		transition: all 0.3s ease;
	}

	.contact-section:hover {
		border-color: #ff6b6b;
		background: #ffbabaff;
		transform: translateY(-2px);
	}

	.icon {
		width: 20px;
		height: 20px;
		color: #ff6b6b; 
	}

	.email-link {
		text-decoration: none;
		color: #2d3748;
		font-weight: 700;
		font-family: 'Fredoka One', 'Varela Round', 'Comic Sans MS', sans-serif;
	}

	/* Estilo de los Créditos */
	.meta-info {
		font-size: 0.9em;
		line-height: 1.6;
	}

	.meta-info p {
		margin: 0;
	}

	.credits {
		margin-top: 0.5em !important;
		font-size: 0.85em;
		color: #a0aec0;
		text-transform: uppercase;
		letter-spacing: 0.5px;
		font-weight: 600;
	}

	.credits a {
		color: #ff6b6b;
		text-decoration: none;
		border-bottom: 2px solid transparent;
		transition: all 0.2s;
	}

	.credits a:hover {
		color: #ff6b6b; /* Efecto hover con el color primario del sitio */
		border-bottom-color: #ff6b6b;
	}

	/* --- Estilos Mascota Interactiva --- */
	.interactive-character {
		margin-top: 1.5rem;
		position: relative;
		cursor: pointer;
		display: inline-block;
		transition: transform 0.3s ease;
	}

	.interactive-character:hover {
		transform: scale(1.05); /* Ligeramente más grande al acercarse */
	}

	.interactive-character.jump {
		animation: bounce 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
	}

	@keyframes bounce {
		0%, 100% { transform: translateY(0) scale(1.05); }
		40% { transform: translateY(-25px) scale(0.95, 1.1); }
		60% { transform: translateY(-5px) scale(1.02, 0.98); }
		80% { transform: translateY(-10px) scale(1, 1); }
	}

	.character-tooltip {
		position: absolute;
		top: -20px;
		left: 50%;
		transform: translateX(-50%) translateY(10px) scale(0.9);
		background: #ff6b6b;
		color: white;
		padding: 6px 14px;
		border-radius: 16px;
		font-family: 'Varela Round', system-ui, sans-serif;
		font-weight: 700;
		font-size: 0.85rem;
		white-space: nowrap;
		opacity: 0;
		visibility: hidden;
		transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
		box-shadow: 0 4px 10px rgba(255,107,107,0.3);
		z-index: 10;
		pointer-events: none;
	}

	.character-tooltip::after {
		content: '';
		position: absolute;
		bottom: -5px;
		left: 50%;
		transform: translateX(-50%);
		border-width: 5px 5px 0;
		border-style: solid;
		border-color: #ff6b6b transparent transparent transparent;
	}

	.interactive-character:hover .character-tooltip {
		opacity: 1;
		visibility: visible;
		transform: translateX(-50%) translateY(0) scale(1);
	}
</style>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const character = document.getElementById('interactive-character');
		const pupils = document.getElementById('character-pupils');
		
		if (!character || !pupils) return;

		// Tracking del ratón para mover los ojos
		window.addEventListener('mousemove', (e) => {
			const rect = character.getBoundingClientRect();
			// Calcular el centro de la cara de la manzanita
			const charX = rect.left + rect.width / 2;
			const charY = rect.top + rect.height / 2;
			
			// Diferencia entre ratón y centro
			const dx = e.clientX - charX;
			const dy = e.clientY - charY;
			
			// Calcular ángulo y limitar cuánto se salen las pupilas del ojo
			const angle = Math.atan2(dy, dx);
			const maxMove = 4.5; // El radio máximo de movimiento
			
			// Un cálculo suave para la distancia
			const dist = Math.min(Math.sqrt(dx*dx + dy*dy) / 40, maxMove);
			
			const pupX = Math.cos(angle) * dist;
			const pupY = Math.sin(angle) * dist;
			
			pupils.style.transform = `translate(${pupX}px, ${pupY}px)`;
		});

		// Animación feliz al hacer clic
		let isJumping = false;
		character.addEventListener('click', () => {
			if(isJumping) return;
			isJumping = true;
			
			// Añadir la clase que dispara el keyframe 'bounce'
			character.classList.add('jump');
			
			// Cambiar la boca temporalmente a súper feliz
			const smilePath = character.querySelector('path:last-of-type');
			const originalSmile = smilePath.getAttribute('d');
			smilePath.setAttribute('d', 'M 45 70 Q 60 95 75 70'); // Boca bien abierta
			
			setTimeout(() => {
				character.classList.remove('jump');
				smilePath.setAttribute('d', originalSmile);
				isJumping = false;
			}, 600);
		});
	});
</script>